(()=>{"use strict";const e=class{constructor(e,t,s,r){this.name=e,this.maxCapacity=t,this.currentCharge=s,this.shield=r}currentPercentCharge(){return 100*this.currentCharge/this.maxCapacity}},t=class{constructor(e){this.spaceship=e}turnOn(){let e=this.checkCurrentCharge(),t=this.testeShield();Promise.all(e,t).then((e=>this.shieldNormilize(e[1]))).then((e=>{this.spaceship.shield=e,console.log(`(${this.name}) Partida autorizada: Escudo ${this.spaceship.shield}GJ`)})).catch((e=>{console.log(`(${this.name}) Partida não altorizada: ${e}`)}))}checkCurrentCharge(){return new Promise(((e,t)=>{let s=this.spaceship.currentPercentCharge();s>=30?e(s):t(`Carga em apenas ${s}GJ`)}))}testeShield(){return new Promise(((e,t)=>{let s=2*this.spaceship.shield;s>=100?e(s):t("Escudo em sobre carga")}))}shieldNormilize(e){return new Promise(((t,s)=>{let r=.7*e;r>=120?s("Escudo em super carga"):t(r)}))}},s=new e("Sophia",10,5,70),r=new e("Amsterda",14,10,40),a=new e("Estrela-Anã",20,4,80),i=new t(s),n=new t(r),h=new t(a);i.turnOn(),n.turnOn(),h.turnOn()})();